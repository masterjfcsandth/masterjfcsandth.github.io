<h1>計N色陣夠唔夠某色珠機率 (6x5版面)</h1><br>
<label for="iteration">模擬次數: </label>
<input id="iteration" size="6" value="10000"><br>
<label for="number">某色珠數量要求 (3-30): </label>
<input id="number" size="1" type="number" value="6"><br>
<label for="total">N色陣(2-9): </label>
<input id="total" size="1" type="number" value="3"><br><br>
<button id="but1" class="btn btn-primary">開始</button><br><br>
<p id="ans"></p>
<script>
  var ite;
  var x1;
  var orb;
  var req;
  var n;
  var index1, index2, index3; 
  var count;
  var suc;
  var proba;

  $("#but1").click(function(){
    ite = $("#iteration").val();
    req = $("#number").val();
    n = $("#total").val();
    count=0;
    suc=0;
    total=0;

    if(ite<1 || req<3 || req>30 || n<2 || n>9){
      $("#ans").empty();
      $("#ans").append("入錯數")
    }
    else{
      for(index1=0;index1<ite;index1++){
        x1=[0,0,0,0,0,0,0,0,0];
        switch1 = true;
        switch2 = true;

        for(index2=0;index2<30;index2++){
          orb = parseInt(Math.random()*n);
          x1[orb]++;
        };

        for(index3=0;index3<n;index3++){
          if(x1[index3]<3){
            switch1 = false
            break
          }
        }

        if(x1[0]<req){
          switch2 = false;
        }

        if(switch1 == true && switch2 == true){
          count++;
        }

        if(switch1 == true){
          suc++;
        }

      };

      proba = Math.round(count/suc*1000)/1000

      $("#ans").empty();
      $("#ans").append("符合遊戲規則並達到要求的模擬次數:: "+count+"<br/>");
      $("#ans").append("符合遊戲規則的模擬次數: "+suc+"<br/>");
      $("#ans").append("機率: "+proba);
      
    };
  });

</script>

